{"ast":null,"code":"import { defineStore } from 'pinia';\nexport const useGuestStore = defineStore('guest', {\n  state: () => ({\n    guest: {\n      name: '',\n      id: null,\n      email: ''\n    },\n    isAuthenticated: false,\n    token: '',\n    isLoading: false\n  }),\n  getters: {\n    get_Guest: state => state.guest,\n    isAuth: state => state.isAuthenticated,\n    isloading: state => state.isLoading\n  },\n  actions: {\n    // check if any token exists;\n    initializeStore() {\n      if (localStorage.getItem('token')) {\n        this.token = JSON.parse(localStorage.getItem('token'));\n        this.isAuthenticated = true;\n        this.guest = JSON.parse(localStorage.getItem('userInfo'));\n      } else {\n        this.token = '';\n        this.isLoading = false;\n      }\n    },\n    setUser(data) {\n      localStorage.setItem('userInfo', JSON.stringify(data));\n      this.guest.name = data.username;\n      this.guest.id = data.id;\n      this.guest.email = data.email;\n    },\n    removeUser() {\n      localStorage.removeItem('userInfo');\n      this.guest.name = '';\n      this.guest.id = null;\n      this.guest.email = '';\n    },\n    // set the token to the Store and to the localStorage;\n    setToken(token) {\n      localStorage.setItem('token', JSON.stringify(token));\n      this.token = token;\n      this.isAuthenticated = true;\n    },\n    // remove the token from store and from localStorage;\n    removeToken() {\n      localStorage.removeItem('token');\n      this.token = '';\n      this.isAuthenticated = false;\n    },\n    // \n    loading(status) {\n      this.isLoading = status;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useGuestStore","state","guest","name","id","email","isAuthenticated","token","isLoading","getters","get_Guest","isAuth","isloading","actions","initializeStore","localStorage","getItem","JSON","parse","setUser","data","setItem","stringify","username","removeUser","removeItem","setToken","removeToken","loading","status"],"sources":["C:/Users/SBS/Desktop/amin.projects/My-Portfolio/portfolio/src/stores/index.js"],"sourcesContent":["\r\nimport { defineStore } from 'pinia' \r\n\r\nexport const useGuestStore = defineStore('guest', {\r\n    state: () => ({\r\n        guest: {\r\n            name: '',\r\n            id: null,\r\n            email: '',\r\n        },\r\n\r\n        isAuthenticated: false,\r\n        token: '',\r\n\r\n        isLoading: false\r\n    }),\r\n    getters: {\r\n        get_Guest: (state) => state.guest,\r\n        isAuth: (state) => state.isAuthenticated,\r\n        isloading: (state) => state.isLoading\r\n    },\r\n    actions: {\r\n        // check if any token exists;\r\n        initializeStore(){\r\n            if(localStorage.getItem('token')){\r\n                this.token = JSON.parse(localStorage.getItem('token'))\r\n                this.isAuthenticated = true\r\n                this.guest = JSON.parse(localStorage.getItem('userInfo'))\r\n            } else {\r\n                this.token = ''\r\n                this.isLoading = false\r\n            }\r\n        },\r\n        setUser(data){\r\n            localStorage.setItem('userInfo', JSON.stringify(data))\r\n            this.guest.name = data.username\r\n            this.guest.id = data.id\r\n            this.guest.email = data.email\r\n        },\r\n        removeUser(){\r\n            localStorage.removeItem('userInfo')\r\n            this.guest.name = ''\r\n            this.guest.id = null\r\n            this.guest.email = ''\r\n        },\r\n        // set the token to the Store and to the localStorage;\r\n        setToken(token){\r\n            localStorage.setItem('token', JSON.stringify(token))\r\n            this.token = token\r\n            this.isAuthenticated = true\r\n        },\r\n        // remove the token from store and from localStorage;\r\n        removeToken(){\r\n            localStorage.removeItem('token')\r\n            this.token = ''\r\n            this.isAuthenticated = false\r\n            \r\n        },\r\n        // \r\n        loading(status){\r\n            this.isLoading = status\r\n        },\r\n    }\r\n})"],"mappings":"AACA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,aAAa,GAAGD,WAAW,CAAC,OAAO,EAAE;EAC9CE,KAAK,EAAEA,CAAA,MAAO;IACVC,KAAK,EAAE;MACHC,IAAI,EAAE,EAAE;MACRC,EAAE,EAAE,IAAI;MACRC,KAAK,EAAE;IACX,CAAC;IAEDC,eAAe,EAAE,KAAK;IACtBC,KAAK,EAAE,EAAE;IAETC,SAAS,EAAE;EACf,CAAC,CAAC;EACFC,OAAO,EAAE;IACLC,SAAS,EAAGT,KAAK,IAAKA,KAAK,CAACC,KAAK;IACjCS,MAAM,EAAGV,KAAK,IAAKA,KAAK,CAACK,eAAe;IACxCM,SAAS,EAAGX,KAAK,IAAKA,KAAK,CAACO;EAChC,CAAC;EACDK,OAAO,EAAE;IACL;IACAC,eAAeA,CAAA,EAAE;MACb,IAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC;QAC7B,IAAI,CAACT,KAAK,GAAGU,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAACV,eAAe,GAAG,IAAI;QAC3B,IAAI,CAACJ,KAAK,GAAGe,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;MAC7D,CAAC,MAAM;QACH,IAAI,CAACT,KAAK,GAAG,EAAE;QACf,IAAI,CAACC,SAAS,GAAG,KAAK;MAC1B;IACJ,CAAC;IACDW,OAAOA,CAACC,IAAI,EAAC;MACTL,YAAY,CAACM,OAAO,CAAC,UAAU,EAAEJ,IAAI,CAACK,SAAS,CAACF,IAAI,CAAC,CAAC;MACtD,IAAI,CAAClB,KAAK,CAACC,IAAI,GAAGiB,IAAI,CAACG,QAAQ;MAC/B,IAAI,CAACrB,KAAK,CAACE,EAAE,GAAGgB,IAAI,CAAChB,EAAE;MACvB,IAAI,CAACF,KAAK,CAACG,KAAK,GAAGe,IAAI,CAACf,KAAK;IACjC,CAAC;IACDmB,UAAUA,CAAA,EAAE;MACRT,YAAY,CAACU,UAAU,CAAC,UAAU,CAAC;MACnC,IAAI,CAACvB,KAAK,CAACC,IAAI,GAAG,EAAE;MACpB,IAAI,CAACD,KAAK,CAACE,EAAE,GAAG,IAAI;MACpB,IAAI,CAACF,KAAK,CAACG,KAAK,GAAG,EAAE;IACzB,CAAC;IACD;IACAqB,QAAQA,CAACnB,KAAK,EAAC;MACXQ,YAAY,CAACM,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACK,SAAS,CAACf,KAAK,CAAC,CAAC;MACpD,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACD,eAAe,GAAG,IAAI;IAC/B,CAAC;IACD;IACAqB,WAAWA,CAAA,EAAE;MACTZ,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;MAChC,IAAI,CAAClB,KAAK,GAAG,EAAE;MACf,IAAI,CAACD,eAAe,GAAG,KAAK;IAEhC,CAAC;IACD;IACAsB,OAAOA,CAACC,MAAM,EAAC;MACX,IAAI,CAACrB,SAAS,GAAGqB,MAAM;IAC3B;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}